<template>
    <aside class="w-56 bg-gray-50 border-r border-gray-200 h-screen flex flex-col sticky top-0 left-0">
        <!-- Logo / Brand -->
        <div class="py-4 px-6 mt-2">
          <svg width="280" height="99" viewBox="0 0 280 99" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
            <path d="M199.3 98H204.1V87.5C204.1 83.3 206.5 80.9 210.5 80.9H211.8V76.5H210.5C207.5 76.5 205.7 77.7 204.1 80.4V77.1H199.4V98.1L199.3 98ZM174.7 89.6C174.7 95.2 177.7 98.6 182.6 98.6C187.5 98.6 187.4 97.5 188.9 95.3L189.1 97.6C189.1 97.9 189.3 98 189.5 98H193.5V77H188.7V88.6C188.7 92.2 186.9 94.5 183.9 94.5C180.9 94.5 179.4 92.7 179.4 89.3V76.9H174.6V89.5L174.7 89.6ZM171 81.1V77.1H165.6V70.5H160.8V77.1H157V81.1H160.8V92.6C160.8 96 163 98 166.6 98H171V94H167.7C166.1 94 165.6 93.5 165.6 91.9V81.1H171ZM150.2 98H156.3L146.8 86.3L156.1 77H149.8L142.4 84.5V68.8H137.6V98H142.4V90.7L143.4 89.7L150.2 98ZM123.2 80.5C126.3 80.5 128.2 82.4 128.3 85.3H117.5C118.1 82.2 120.1 80.5 123.1 80.5M133.2 87.1C133.2 80.5 129.4 76.5 123.2 76.5C117 76.5 112.6 80.7 112.6 87.5C112.6 94.3 116.8 98.7 123.4 98.7C130 98.7 132.4 95.9 133 91.2H128.1C127.8 93.4 126.1 94.6 123.3 94.6C120.5 94.6 117.8 92.6 117.4 88.9H133.2V87.1ZM109.8 81.1V77.1H104.4V70.5H99.6V77.1H95.8V81.1H99.6V92.6C99.6 96 101.8 98 105.4 98H109.8V94H106.5C104.9 94 104.4 93.5 104.4 91.9V81.1H109.8ZM87.3 98H92.1V77H87.3V98ZM89.7 74.4C91.3 74.4 92.6 73.1 92.6 71.4C92.6 69.7 91.3 68.5 89.7 68.5C88.1 68.5 86.7 69.8 86.7 71.4C86.7 73 88 74.4 89.7 74.4ZM63 98H67.8V86.6C67.8 82.8 69.6 80.5 72.6 80.5C75.6 80.5 77.1 82.3 77.1 85.9V98.1H81.9V85.5C81.9 79.9 78.9 76.5 74.1 76.5C69.3 76.5 69.4 77.6 68 79.8V68.9H63.2V98.1L63 98ZM49.7 98.6C55.1 98.6 58.7 95.8 59.3 91.1H54.5C54 93.3 52.3 94.5 49.7 94.5C45.9 94.5 43.5 91.9 43.5 87.4C43.5 82.9 45.9 80.4 49.7 80.4C53.5 80.4 54 81.6 54.5 83.8H59.3C58.6 79.1 55.1 76.4 49.7 76.4C44.3 76.4 38.7 80.7 38.7 87.4C38.7 94.1 43.1 98.5 49.7 98.5M24.8 98H29.6V87.5C29.6 83.3 32 80.9 36 80.9H37.3V76.5H36C33 76.5 31.2 77.7 29.6 80.4V77.1H24.9V98.1L24.8 98ZM9.70003 94.5C7.50003 94.5 6.30002 93.5 6.30002 91.8C6.30002 90.1 7.30003 89.2 9.20003 89.1L12.2 88.9C13.4 88.8 14.1 88.6 14.9 88.2V89.5C14.9 92.3 12.6 94.5 9.70003 94.5ZM1.50002 92C1.50002 95.9 4.40002 98.6 8.80002 98.6C13.2 98.6 13.6 97.7 14.9 95.3V98H19.6V84.8C19.6 79.7 16.7 76.5 11 76.5C5.30002 76.5 2.40003 79.3 1.80002 83.9H6.70003C7.10003 81.6 8.50002 80.3 10.9 80.3C13.3 80.3 14.8 81.6 14.8 83.4C14.8 85.2 13.9 85.4 11.8 85.6L7.60003 85.9C3.70003 86.1 1.40002 88.5 1.40002 92.1" fill="#1D1D1B"/>
            <path d="M267.2 63.6H272V53.1C272 48.9 274.4 46.5 278.4 46.5H279.7V42.1H278.4C275.4 42.1 273.6 43.3 272 46V42.7H267.3V63.7L267.2 63.6ZM252.8 46.1C255.9 46.1 257.8 48 257.9 50.9H247.1C247.7 47.8 249.7 46.1 252.7 46.1M262.8 52.7C262.8 46.1 259 42.1 252.8 42.1C246.6 42.1 242.2 46.3 242.2 53.1C242.2 59.9 246.4 64.3 253 64.3C259.6 64.3 262 61.5 262.6 56.8H257.7C257.4 59 255.7 60.2 252.9 60.2C250.1 60.2 247.4 58.2 247 54.5H262.8V52.7ZM226.9 60.2C223.1 60.2 220.6 57.4 220.6 53.1C220.6 48.8 223.1 46.1 226.9 46.1C230.7 46.1 233.2 48.9 233.2 53.1C233.2 57.3 230.7 60.2 226.9 60.2ZM215.9 53.1C215.9 59.7 220 64.2 226 64.2C232 64.2 231.8 63 233.1 60.9L233.3 63.2C233.3 63.5 233.5 63.6 233.7 63.6H237.8V34.4H233V45.3C231.4 43.2 228.9 42.1 226 42.1C220 42.1 215.9 46.7 215.9 53.1ZM202.9 46.1C206 46.1 207.9 48 208 50.9H197.2C197.8 47.8 199.8 46.1 202.8 46.1M212.9 52.7C212.9 46.1 209.1 42.1 202.9 42.1C196.7 42.1 192.3 46.3 192.3 53.1C192.3 59.9 196.5 64.3 203.1 64.3C209.7 64.3 212.1 61.5 212.7 56.8H207.8C207.5 59 205.8 60.2 203 60.2C200.2 60.2 197.5 58.2 197.1 54.5H212.9V52.7ZM183.1 63.6H187.9V42.6H183.1V63.6ZM185.5 40C187.1 40 188.4 38.7 188.4 37C188.4 35.3 187.1 34.1 185.5 34.1C183.9 34.1 182.5 35.4 182.5 37C182.5 38.6 183.8 40 185.5 40ZM167.2 63.6H172V53.1C172 48.9 174.4 46.5 178.4 46.5H179.7V42.1H178.4C175.4 42.1 173.6 43.3 172 46V42.7H167.3V63.7L167.2 63.6ZM154 64.2C159.4 64.2 162.9 61.6 162.9 57.4C162.9 53.2 161 52.6 157.1 51.7L153.2 50.9C151.1 50.5 150.2 49.7 150.2 48.5C150.2 47.3 151.7 46.1 153.8 46.1C155.9 46.1 157.6 47.2 157.8 49.5H162.3C161.9 44.7 159 42.1 153.8 42.1C148.6 42.1 145.4 44.7 145.4 48.7C145.4 52.7 147.5 53.7 151.5 54.6L155.1 55.4C157.2 55.9 158.1 56.6 158.1 57.8C158.1 59 156.6 60.3 154.2 60.3C151.8 60.3 150.3 59.3 149.8 56.9H145.1C145.4 61.7 148.6 64.4 154 64.4M142.4 46.7V42.7H137V36.1H132.2V42.7H128.4V46.7H132.2V58.2C132.2 61.6 134.4 63.6 138 63.6H142.4V59.6H139.1C137.5 59.6 137 59.1 137 57.5V46.7H142.4ZM116.4 46.1C119.5 46.1 121.4 48 121.5 50.9H110.7C111.3 47.8 113.3 46.1 116.3 46.1M126.4 52.7C126.4 46.1 122.6 42.1 116.4 42.1C110.2 42.1 105.8 46.3 105.8 53.1C105.8 59.9 110 64.3 116.6 64.3C123.2 64.3 125.6 61.5 126.2 56.8H121.3C121 59 119.3 60.2 116.5 60.2C113.7 60.2 111 58.2 110.6 54.5H126.4V52.7ZM83.1 63.6H87.9V52.2C87.9 48.4 89.7 46.1 92.7 46.1C95.7 46.1 97.2 47.9 97.2 51.5V63.7H102V51.1C102 45.5 99 42.1 94.2 42.1C89.4 42.1 89.5 43.2 88.1 45.4V34.5H83.3V63.7L83.1 63.6ZM69.3 64.2C74.7 64.2 78.3 61.4 78.9 56.7H74.1C73.6 58.9 71.9 60.1 69.3 60.1C65.5 60.1 63.1 57.5 63.1 53C63.1 48.5 65.5 46 69.3 46C73.1 46 73.6 47.2 74.1 49.4H78.9C78.2 44.7 74.7 42 69.3 42C63.9 42 58.3 46.3 58.3 53C58.3 59.7 62.7 64.1 69.3 64.1M46.6 64.2C52 64.2 55.5 61.6 55.5 57.4C55.5 53.2 53.6 52.6 49.7 51.7L45.8 50.9C43.7 50.5 42.8 49.7 42.8 48.5C42.8 47.3 44.3 46.1 46.4 46.1C48.5 46.1 50.2 47.2 50.4 49.5H54.9C54.5 44.7 51.6 42.1 46.4 42.1C41.2 42.1 38 44.7 38 48.7C38 52.7 40.1 53.7 44.1 54.6L47.7 55.4C49.8 55.9 50.7 56.6 50.7 57.8C50.7 59 49.2 60.3 46.8 60.3C44.4 60.3 42.9 59.3 42.4 56.9H37.7C38 61.7 41.2 64.4 46.6 64.4M28.7 63.6H33.5V42.6H28.7V63.6ZM31.1 40C32.7 40 34 38.7 34 37C34 35.3 32.7 34.1 31.1 34.1C29.5 34.1 28.1 35.4 28.1 37C28.1 38.6 29.4 40 31.1 40ZM13.4 60.2C9.6 60.2 7.1 57.4 7.1 53.2C7.1 49 9.6 46.2 13.4 46.2C17.2 46.2 19.7 49 19.7 53.2C19.7 57.4 17.2 60.2 13.4 60.2ZM2.5 71.6H7.3V60.9C8.9 63.1 11.5 64.2 14.4 64.2C20.4 64.2 24.4 59.6 24.4 53.1C24.4 46.6 20.4 42 14.4 42C8.4 42 8.7 43.2 7.2 45.3V42.6H2.5V71.6Z" fill="#1D1D1B"/>
            <path d="M267.5 29.2H272.3V18.7C272.3 14.5 274.7 12.1 278.7 12.1H280V7.7H278.7C275.7 7.7 273.9 8.9 272.3 11.6V8.3H267.6V29.3L267.5 29.2ZM252.9 11.7C256 11.7 257.9 13.6 258 16.5H247.2C247.8 13.4 249.8 11.7 252.8 11.7M262.9 18.3C262.9 11.7 259.1 7.7 252.9 7.7C246.7 7.7 242.3 11.9 242.3 18.7C242.3 25.5 246.5 29.9 253.1 29.9C259.7 29.9 262.1 27.1 262.7 22.4H257.8C257.5 24.6 255.8 25.8 253 25.8C250.2 25.8 247.5 23.8 247.1 20.1H262.9V18.3ZM219.2 29.2H224V17.6C224 14 225.8 11.7 228.8 11.7C231.8 11.7 233.3 13.5 233.3 17.1V29.3H238.1V16.7C238.1 11.1 235.1 7.7 230.3 7.7C225.5 7.7 225.7 8.6 224.1 11V8.3H219.4V29.3L219.2 29.2ZM194.7 29.2H199.5V17.6C199.5 14 201.3 11.7 204.3 11.7C207.3 11.7 208.8 13.5 208.8 17.1V29.3H213.6V16.7C213.6 11.1 210.6 7.7 205.8 7.7C201 7.7 201.2 8.6 199.6 11V8.3H194.9V29.3L194.7 29.2ZM169.9 20.8C169.9 26.4 172.9 29.8 177.8 29.8C182.7 29.8 182.6 28.7 184.1 26.5L184.3 28.8C184.3 29.1 184.5 29.2 184.7 29.2H188.7V8.3H183.9V19.9C183.9 23.5 182.1 25.8 179.1 25.8C176.1 25.8 174.6 24 174.6 20.6V8.2H169.8V20.8H169.9ZM154 29.2H158.8V18.7C158.8 14.5 161.2 12.1 165.2 12.1H166.5V7.7H165.2C162.2 7.7 160.4 8.9 158.8 11.6V8.3H154.1V29.3L154 29.2ZM138.4 25.8C134.6 25.8 132.1 23 132.1 18.7C132.1 14.4 134.6 11.7 138.4 11.7C142.2 11.7 144.7 14.5 144.7 18.7C144.7 22.9 142.2 25.8 138.4 25.8ZM127.5 29.2H132.2V26.5C133.7 28.6 136.4 29.8 139.4 29.8C145.4 29.8 149.4 25.3 149.4 18.7C149.4 12.1 145.3 7.7 139.4 7.7C133.5 7.7 133.9 8.8 132.3 10.9V0H127.5V29.2ZM111.1 29.2H115.9V18.7C115.9 14.5 118.3 12.1 122.3 12.1H123.6V7.7H122.3C119.3 7.7 117.5 8.9 115.9 11.6V8.3H111.2V29.3L111.1 29.2ZM96.5 11.7C99.6 11.7 101.5 13.6 101.6 16.5H90.8C91.4 13.4 93.4 11.7 96.4 11.7M106.5 18.3C106.5 11.7 102.7 7.7 96.5 7.7C90.3 7.7 85.9 11.9 85.9 18.7C85.9 25.5 90.1 29.9 96.7 29.9C103.3 29.9 105.7 27.1 106.3 22.4H101.4C101.1 24.6 99.4 25.8 96.6 25.8C93.8 25.8 91.1 23.8 90.7 20.1H106.5V18.3ZM71.9 25.8C68.1 25.8 65.6 23 65.6 18.7C65.6 14.4 68.1 11.7 71.9 11.7C75.7 11.7 78.2 14.5 78.2 18.7C78.2 22.9 75.7 25.8 71.9 25.8ZM61 29.2H65.7V26.5C67.2 28.6 69.9 29.8 72.9 29.8C78.9 29.8 82.9 25.3 82.9 18.7C82.9 12.1 78.8 7.7 72.9 7.7C67 7.7 67.4 8.8 65.8 10.9V0H61V29.2ZM46.4 11.7C49.5 11.7 51.4 13.6 51.5 16.5H40.7C41.3 13.4 43.3 11.7 46.3 11.7M56.4 18.3C56.4 11.7 52.6 7.7 46.4 7.7C40.2 7.7 35.8 11.9 35.8 18.7C35.8 25.5 40 29.9 46.6 29.9C53.2 29.9 55.6 27.1 56.2 22.4H51.3C51 24.6 49.3 25.8 46.5 25.8C43.7 25.8 41 23.8 40.6 20.1H56.4V18.3ZM0 8.3L6.8 29.3H12.9L16.9 14.6L20.9 29.3H27L33.8 8.3H28.9L24 23.9L19.6 8.3H14.3L9.9 23.9L5 8.3H0Z" fill="#1D1D1B"/>
          </svg>
        </div>

        <!-- Navigation -->
        <nav class="flex-1 mt-4">
            <ul>
                <li>
                    <router-link
                        :to="{ name: 'projects.index' }"
                        class="flex items-center gap-3 p-4 text-sm transition-colors"
                        :class="isActive('projects') ? 'bg-gray-100' : 'text-gray-700 hover:bg-gray-200'"
                    >
                        <PhFolders class="w-5 h-5" />
                        Projekte
                    </router-link>
                </li>
                <li>
                    <router-link
                        :to="{ name: 'categories.index' }"
                        class="flex items-center gap-3 p-4 text-sm transition-colors"
                        :class="isActive('categories') ? 'bg-gray-100' : 'text-gray-700 hover:bg-gray-200'"
                    >
                        <PhTag class="w-5 h-5" />
                        Kategorien
                    </router-link>
                </li>
                <li>
                    <router-link
                        :to="{ name: 'team.index' }"
                        class="flex items-center gap-3 p-4 text-sm transition-colors"
                        :class="isActive('team') ? 'bg-gray-100' : 'text-gray-700 hover:bg-gray-200'"
                    >
                        <PhUsers class="w-5 h-5" />
                        Team
                    </router-link>
                </li>
                <li>
                    <router-link
                        :to="{ name: 'awards.index' }"
                        class="flex items-center gap-3 p-4 text-sm transition-colors"
                        :class="isActive('awards') ? 'bg-gray-100' : 'text-gray-700 hover:bg-gray-200'"
                    >
                        <PhTrophy class="w-5 h-5" />
                        Auszeichnungen
                    </router-link>
                </li>
                <li>
                    <router-link
                        :to="{ name: 'jury.index' }"
                        class="flex items-center gap-3 p-4 text-sm transition-colors"
                        :class="isActive('jury') ? 'bg-gray-100' : 'text-gray-700 hover:bg-gray-200'"
                    >
                        <PhGavel class="w-5 h-5" />
                        Jury & Gastkritik
                    </router-link>
                </li>
                <li>
                    <router-link
                        :to="{ name: 'lectures.index' }"
                        class="flex items-center gap-3 p-4 text-sm transition-colors"
                        :class="isActive('lectures') ? 'bg-gray-100' : 'text-gray-700 hover:bg-gray-200'"
                    >
                        <PhMicrophone class="w-5 h-5" />
                        Vortr√§ge
                    </router-link>
                </li>
            </ul>
        </nav>

        <!-- Logout -->
        <div class="px-4 py-5 border-t border-gray-200">
            <button
                @click="logout"
                class="flex items-center gap-3 w-full text-sm text-gray-500 hover:text-black transition-colors cursor-pointer"
            >
                <PhSignOut class="w-5 h-5" />
                Abmelden
            </button>
        </div>
    </aside>
</template>

<script setup>
import { useRoute } from 'vue-router';
import { PhFolders, PhTag, PhSignOut, PhUsers, PhTrophy, PhGavel, PhMicrophone } from '@phosphor-icons/vue';

const route = useRoute();

const isActive = (section) => {
    return route.path.startsWith(`/${section}`);
};

const logout = async () => {
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = '/logout';

    const csrfToken = document.querySelector('meta[name="csrf-token"]')?.content;
    if (csrfToken) {
        const csrfInput = document.createElement('input');
        csrfInput.type = 'hidden';
        csrfInput.name = '_token';
        csrfInput.value = csrfToken;
        form.appendChild(csrfInput);
    }

    document.body.appendChild(form);
    form.submit();
};
</script>
